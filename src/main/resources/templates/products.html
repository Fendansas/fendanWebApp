<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title th:text="${title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
</head>

<body>
<header th:insert="blocks/header::header"></header>
<table class="table">
    <thead class="thead-dark">
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Image</th>
        <th scope="col">Name</th>
        <th scope="col">Price</th>
        <th scope="col">Description</th>
        <th scope="col">Add to cart</th>
        <th scope="col" sec:authorize="hasRole('ROLE_ADMIN')">Upload img</th>
    </tr>
    </thead>

    <tr th:each="product : ${products}">
        <td th:text="${product.id}"/>
        <td><img th:src="@{/products/{uid}/img(uid=${product.id})}" width="100"
                 height="100" alt=""></td>
        <td th:text="${product.name}"/>
        <td th:text="${product.price}"/>
        <td th:text="${product.description}"/>
        <td>
            <button type="button" class="btn btn-success">Add to cart</button>
        </td>
        <td sec:authorize="hasRole('ROLE_ADMIN')">
            This content is only shown to administrators.
            <form method="POST" enctype="multipart/form-data"
                  th:action="@{/users/{uid}/img(uid=${user.id})}">
                <table>
                    <tr>
                        <td>File to upload:</td>
                        <td><input type="file" name="file"/></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="submit" value="Upload"/></td>
                    </tr>
                </table>
            </form>
        </td>
    </tr>


</table>
footer
<header th:insert="blocks/footer::footer"></header>
</body>



</html>