<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
</head>

<body>
<header th:insert="blocks/header::header"></headerth:insert></header>
<table class="table">
    <thead class="thead-dark">
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Image</th>
        <th scope="col">Name</th>
        <th scope="col">Price</th>
        <th scope="col">Description</th>
        <th scope="col">Image upload</th>
    </tr>
    </thead>

    <tr th:each="product : ${products}">
        <td th:text="${product.id}"/>
        <td><img th:src="@{/products/{uid}/img(uid=${product.id})}" width="100"
                 height="100" alt=""></td>
        <td th:text="${product.name}"/>
        <td th:text="${product.price}"/>
        <td th:text="${product.description}"/>
        <td>
            <form method="POST" enctype="multipart/form-data" th:action="@{/products/{uid}/img(uid=${product.id})}">
                <table>
                    <tr>
                        <td>File to upload:</td>
                        <td><input type="file" name="file"/></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="submit" value="Upload"/></td>
                    </tr>
                </table>
            </form>
        </td>
    </tr>
</table>
</body>

</html>